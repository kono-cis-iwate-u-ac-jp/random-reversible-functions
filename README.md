# random-reversible-functions
ランダムに生成された可逆論理関数。置換の形で表現。実験用データ。

本ドキュメントにおいては、可逆論理関数を単に関数と呼ぶことがある。

# 関数ファイル

`data`ディレクトリに実験用可逆論理関数データファイルがおいてある。
`perm3-40320.txt`には、すべての3変数可逆論理関数(40320個)が入っている。
それ以外のファイルにはランダムに生成された可逆論理関数が入っている。
例えば、`perm6-50000.txt`には、6変数可逆論理関数が50000個入っていることを表す。
1つのファイル内には関数の重複はない。

## 注: perm9-50000とperm10-50000

ファイルのうち、`perm9-50000.txt`と`perm10-50000.txt`だけは下記のコマンドで手動で生成すること。

```
% cd data
% cat perm9-50000/perm9-50000.txt.* > perm9-50000.txt
% cat perm10-50000/perm10-50000.txt.* > perm10-50000.txt
```

このような手間がかかるのは、`perm9-50000.txt`と`perm10-50000.txt`がGithubのファイル容量制限に引っかかってしまったため。
その制限というのは、1ファイルあたり50MBまで。
50MB以上の容量を持つファイルをアップロードしようとすると警告が出て、100MB以上の容量を持つファイルはアップロードできずに弾かれてしまう。
制限内に抑えるため、ファイルを1000行ずつ分割してある。
分割されたファイルはcatコマンドで結合すれば元に戻る。

## 関数の読み方

ファイルの1行が関数1個に対応する。
関数は[置換(permutation)の一行記法](https://ja.wikipedia.org/wiki/置換_(数学))で表現されている。
数学的には可逆論理関数と置換は同一であるため。
具体的には、角括弧で表現されたPython風のリストであり、リストの要素が関数の出力値に対応する。
リストをrとすると、入力xに対する関数rの出力はr[x]であることを表す。
xとr[x]を2進数で考えれば、可逆論理関数になっている。

## 回路データを変換したいとき

trコマンドで簡単に変換できる。

ファイル`perm3-40320.txt`のカンマ区切りをスペース区切りにしたいとき。

```
% cat perm3-40320.txt | tr ',' ' '
```

上記に加えて、角括弧を丸括弧にしたい(Common Lispのリストにしたい)とき。


```
% cat perm3-40320.txt | tr ',[]' ' ()'
```
